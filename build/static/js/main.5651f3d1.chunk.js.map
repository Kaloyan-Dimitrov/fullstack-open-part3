{"version":3,"sources":["services/persons.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","personsService","getAll","axios","get","then","response","data","create","newObject","post","deletePerson","idToDelete","delete","update","updateObject","put","id","Filter","searchString","changeSearchString","value","onChange","PersonForm","newName","newNumber","changeNewName","changeNewNumber","addNewPerson","type","onClick","Persons","persons","map","person","name","number","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setSearchString","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","initialPersons","setMessage","setTimeout","searchResults","filter","p","toLowerCase","includes","e","target","preventDefault","sameNumber","find","sameName","alert","window","confirm","valueOf","updatePerson","returnedPerson","catch","err","error","newId","length","newPerson","concat","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5651f3d1.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = idToDelete => {\r\n    const request = axios.delete(`${baseUrl}/${idToDelete}`)\r\n    return request\r\n}\r\n\r\nconst update = updateObject => {\r\n    const request = axios.put(`${baseUrl}/${updateObject.id}`, updateObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst personsService = {\r\n    getAll,\r\n    create,\r\n    deletePerson,\r\n    update\r\n}\r\n\r\nexport default personsService","import React, { useState, useEffect } from 'react'\nimport personsService from './services/persons'\n\nconst Filter = ({ searchString, changeSearchString }) => (\n  <>\n    filter shown with <input value={searchString} onChange={changeSearchString} />\n  </>\n)\n\nconst PersonForm = ({ newName, newNumber, changeNewName, changeNewNumber, addNewPerson }) => (\n    <form>\n      <div>\n        name: <input value={newName} onChange={changeNewName} /><br/>\n        number: <input value={newNumber} onChange={changeNewNumber} />\n      </div>\n      <div>\n        <button type=\"submit\" onClick={addNewPerson}>add</button>\n      </div>\n    </form>\n)\n\nconst Persons = ({ persons, deletePerson }) => (\n  <>\n    {persons.map(person => \n      <div key={person.id}>{person.name} {person.number} <button onClick={deletePerson(person)}>Delete</button></div>\n    )}\n  </>\n)\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={type}>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [searchString, setSearchString] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n  \n  useEffect(() => {    \n    personsService\n      .getAll()\n      .then(initialPersons => setPersons(initialPersons))\n  }, [])\n\n  const setError = error => {\n    setErrorMessage(error)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n  const setMessage = message => {\n    setNotificationMessage(message)\n    setTimeout(() => {\n      setNotificationMessage(null)\n    }, 5000)\n  }\n\n  const addNewPerson = e => {\n    e.preventDefault()\n    const sameNumber = persons.find(p => p.number === newNumber)\n    const sameName = persons.find(p => p.name === newName)\n\n    if (sameNumber)\n      alert(`A person with the number \"${newNumber}\" is already added to phonebook`)\n\n    else if (sameName) {\n      const confirm = window.confirm(`Are you sure you want to update ${newName}`).valueOf()\n      if (confirm) {\n        const updatePerson = {\n          ...sameName,\n          number: newNumber\n        }\n        personsService.update(updatePerson).then(returnedPerson => {\n          setMessage(`Updated ${returnedPerson.name}'s phone number to ${returnedPerson.number}`)\n          setPersons(persons.map(p => p.id === returnedPerson.id ? returnedPerson : p))\n          setNewName('')\n          setNewNumber('')\n        }).catch(err => {\n          setError(`Information of ${updatePerson.name} has already been removed from the server.`)\n        })\n      }\n      else {\n        setNewName('')\n        setNewNumber('')\n      }\n    }\n      \n    else {\n      const newId = persons[persons.length - 1].id + 1;\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n            id: newId \n      }\n      personsService.create(newPerson).then(returnedPerson => {\n        setMessage(`Added ${returnedPerson.name}`)\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n      })\n    }\n  }\n\n  const deletePerson = person => e => {\n    const confirm = window.confirm(`Do you really want to delete ${person.name}`).valueOf()\n    if (confirm) {\n      personsService.deletePerson(person.id).then(() => {\n        setPersons(persons.filter(p => p.id !== person.id))\n      })\n    }\n  }\n\n  const changeNewName = e => setNewName(e.target.value)\n  const changeNewNumber = e => setNewNumber(e.target.value)\n  const changeSearchString = e => setSearchString(e.target.value)\n\n  const searchResults = persons.filter(p => p.name.toLowerCase().includes(searchString.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} type=\"success\"></Notification>\n      <Notification message={errorMessage} type=\"error\"></Notification>\n      <Filter searchString={searchString} changeSearchString={changeSearchString}></Filter>\n      <h1>Add a new</h1>\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        changeNewName={changeNewName}\n        changeNewNumber={changeNewNumber}\n        addNewPerson={addNewPerson}\n      ></PersonForm>\n      <h2>Numbers</h2>\n      <Persons persons={searchResults} deletePerson={deletePerson}></Persons>\n    </div>\n  )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}